selected_piece = None
selected_pos = None

# Handle user inputs
def handle_click(pos):
    global selected_piece, selected_pos
    x, y = pos
    tile_size = width // 8 
    row = y // tile_size
    col = x // tile_size
    
    if selected_piece:
        # Attempt to move the selected piece
        move_piece(selected_pos, (row, col))
        selected_piece = None
        selected_pos = None
    else:
        # Select a piece
        if board[row][col]:
            selected_piece = board[row][col]
            selected_pos = (row, col)

# Move pieces
def move_piece(start_pos, end_pos):
    start_row, start_col = start_pos
    end_row, end_col = end_pos
    piece = board[start_row],[start_col]

    # White pawn logic
    if piece == 'wp':
        if (end_row == start_row + 1 and end_col == start_col) and board[end_row][end_col] is None:
            board[end_row][end_col] = piece
            board[start_row][start_col] = None
        elif (start_row == 1 and end_row == start_row + 2 and end_col == start_col) and board[end_row][end_col] is None:
            board[end_row][end_col] = piece
            board[start_row][start_col] = None
        elif (end_row == start_row + 1 and abs(end_col - start_col) == 1) and board[end_row][end_col] is not None:
            board[end_row][end_col] = piece
            board[start_row][start_col] = None